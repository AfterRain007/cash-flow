<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gilang's Portofolio</title>
    <link rel="icon" href="./public/images/favicon.ico" type="image/x-icon">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="./public/style.css">
  </head>
  <body>
    <main> 
          <table id="data-table">
        <thead>
          <tr>
            <th>Date</th>
            <th>Debit</th>
            <th>Credit</th>
            <th>Description</th>
            <th>Classification</th>
          </tr>
        </thead>
        <tbody>
          <!-- Data will be loaded here -->
        </tbody>
      </table>
    </main>
    <script>
      $(document).ready(function() {
        const sheetUrl = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vR-YxrBUuqBO3hvqqG-qb7W2lKp4g2xLOn5b1qljCGuMxSJBss21spSzxSkiDPQ1aqy-Q_2Ot5U9RXV/pub?gid=985685597&single=true&output=csv';
    
        $.ajax({
          url: sheetUrl,
          dataType: 'text',
          success: function(data) {
            const rows = data.split('\n');
            rows.forEach((row, index) => {
              const cells = row.split(',');
              console.log(cells)
              if (index > 0 && cells.length > 1) { // Skip header and empty rows
                $('#data-table tbody').append(`
                  <tr>
                    <td>${cells[0]}</td>
                    <td>${cells[1]}</td>
                    <td>${cells[2]}</td>
                    <td>${cells[3]}</td>
                    <td>${cells[4]}</td>
                  </tr>
                `);
              }
            });
          }
        });
      });
    </script>
  </body>
</html>
